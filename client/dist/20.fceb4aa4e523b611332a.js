(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{eRgA:function(t,n,e){"use strict";e.r(n);var a=e("CcnG"),i=function(){return function(){}}(),o=e("fdPT"),l=e("MoCo"),r=e("cdOV"),c=e("4lDY"),d=e("qcfG"),s=e("xaNE"),u=e("FNNE"),p=e("gW6t"),m=e("u4HF"),f=e("aq8m"),h=e("81d9"),b=e("ZYCi"),v=function(){function t(){}return t.prototype.getShifts=function(){},t.prototype.ngOnInit=function(){this.getShifts()},t}(),y=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function g(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),a["\u0275did"](1,212992,null,0,b.t,[b.b,a.ViewContainerRef,a.ComponentFactoryResolver,[8,null],a.ChangeDetectorRef],null,null)],function(t,n){t(n,1,0)},null)}function S(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ngx-shifts",[],null,null,null,g,y)),a["\u0275did"](1,114688,null,0,v,[],null,null)],function(t,n){t(n,1,0)},null)}var C=a["\u0275ccf"]("ngx-shifts",v,S,{},{},[]),_=e("4bAE"),O=e("mc3f"),j=e("+ImT"),w=e("Qq3i"),T=e("CG3O"),k=e("JkjZ"),F=(e("MTnW"),e("t/Na")),M=function(){function t(t,n){var e=this;this.http=t,this.authService=n,this.authService.onTokenChange().subscribe(function(t){t.isValid()&&(e.httpOptions={headers:new F.h({"Content-Type":"application/json",Authorization:t.getValue()})})})}return t.prototype.getShifts=function(){return this.http.get("api/shifts",this.httpOptions)},t.prototype.updateShift=function(t){if(null!=t)return this.http.patch("api/shifts/"+t._id,t,this.httpOptions)},t.prototype.deleteShift=function(t){if(null!=t)return this.http.delete("api/shifts/"+t._id,this.httpOptions)},t.prototype.createShift=function(t){if(null!=t)return this.http.post("api/shifts/",t,this.httpOptions)},t}(),A=function(){function t(t,n){var e=this;this.shiftService=t,this.store=n,this.source=new T.a,this.store.dispatch(new k.d),this.shiftState=this.store.select("SHIFTS"),this.store.select("SHIFTS").subscribe(function(t){e.source.load(t.shifts)})}return t.prototype.ngOnInit=function(){this.settings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{name:{title:"Shift name",type:"string"},start:{title:"Start",type:"number"},end:{title:"End",type:"number"},priority:{title:"Priority",type:"boolean",editor:{type:"checkbox"}}}}},t.prototype.onDeleteConfirm=function(t){alert(t),window.confirm("Are you sure you want to delete?")?(this.store.dispatch(new k.j({id:3,deletedShift:t.data})),t.confirm.resolve()):t.confirm.reject()},t.prototype.onEditConfirm=function(t){this.store.dispatch(new k.k({id:3,updatedShift:t.newData})),t.confirm.resolve()},t.prototype.onCreateConfirm=function(t){this.shiftService.createShift(t.newData).subscribe(function(n){t.confirm.resolve()})},t}(),N=e("yGQT"),x=a["\u0275crt"]({encapsulation:0,styles:["nb-card[_ngcontent-%COMP%] {\n      transform: translate3d(0, 0, 0);\n    }"],data:{}});function D(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,8,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,_.f,_.b)),a["\u0275did"](1,49152,null,0,O.b,[],null,null),(t()(),a["\u0275eld"](2,0,null,0,2,"nb-card-header",[],null,null,null,_.h,_.d)),a["\u0275did"](3,49152,null,0,O.d,[],null,null),(t()(),a["\u0275ted"](-1,0,[" Shifts "])),(t()(),a["\u0275eld"](5,0,null,1,3,"nb-card-body",[],null,null,null,_.e,_.a)),a["\u0275did"](6,49152,null,0,O.a,[],null,null),(t()(),a["\u0275eld"](7,0,null,0,1,"ng2-smart-table",[],null,[[null,"deleteConfirm"],[null,"editConfirm"],[null,"createConfirm"]],function(t,n,e){var a=!0,i=t.component;return"deleteConfirm"===n&&(a=!1!==i.onDeleteConfirm(e)&&a),"editConfirm"===n&&(a=!1!==i.onEditConfirm(e)&&a),"createConfirm"===n&&(a=!1!==i.onCreateConfirm(e)&&a),a},j.b,j.a)),a["\u0275did"](8,573440,null,0,w.a,[],{source:[0,"source"],settings:[1,"settings"]},{deleteConfirm:"deleteConfirm",editConfirm:"editConfirm",createConfirm:"createConfirm"}),(t()(),a["\u0275eld"](9,0,null,null,0,"br",[],null,null,null,null,null))],function(t,n){var e=n.component;t(n,8,0,e.source,e.settings)},function(t,n){t(n,0,1,[a["\u0275nov"](n,1).xxsmall,a["\u0275nov"](n,1).xsmall,a["\u0275nov"](n,1).small,a["\u0275nov"](n,1).medium,a["\u0275nov"](n,1).large,a["\u0275nov"](n,1).xlarge,a["\u0275nov"](n,1).xxlarge,a["\u0275nov"](n,1).active,a["\u0275nov"](n,1).disabled,a["\u0275nov"](n,1).primary,a["\u0275nov"](n,1).info,a["\u0275nov"](n,1).success,a["\u0275nov"](n,1).warning,a["\u0275nov"](n,1).danger,a["\u0275nov"](n,1).hasAccent,a["\u0275nov"](n,1).primaryAccent,a["\u0275nov"](n,1).infoAccent,a["\u0275nov"](n,1).successAccent,a["\u0275nov"](n,1).warningAccent,a["\u0275nov"](n,1).dangerAccent,a["\u0275nov"](n,1).activeAccent,a["\u0275nov"](n,1).disabledAccent])})}function I(t){return a["\u0275vid"](0,[(t()(),a["\u0275eld"](0,0,null,null,1,"ngx-smart-table",[],null,null,null,D,x)),a["\u0275did"](1,114688,null,0,A,[M,N.n],null,null)],function(t,n){t(n,1,0)},null)}var R=a["\u0275ccf"]("ngx-smart-table",A,I,{},{},[]),q=e("Ip0R"),B=e("gIcY"),E=e("nA+Y"),H=e("eDkP"),L=e("Fzqc"),P=e("U4uc"),G=e("iCtU"),U=e("Ovjw"),W=e("dlWH"),Z=e("u1Dc"),z=e("P8+w"),J=e("Ku2q"),V=e("w//a"),Y=e("niCt"),$=e("UIEa"),K=e("o0Gp"),X=e("M18m"),Q=e("zTyf"),tt=e("TcUH"),nt=e("4c35"),et=e("dWZg"),at=e("qAlS"),it=e("hle7"),ot=e("lOUe"),lt=e("yHPJ"),rt=e("wZaT"),ct=e("GGqN"),dt=e("rNHn"),st=e("tSKX"),ut=e("uLH1"),pt=e("LKjY"),mt=e("bt6x"),ft=e("0XGt"),ht=e("PsaP"),bt=e("nhl2"),vt=e("InZo"),yt=e("C9m0"),gt=e("+NDo"),St=e("4WQT"),Ct=e("wtSO"),_t=e("gpiN"),Ot=e("NlYj"),jt=e("neuq"),wt=e("y+WT"),Tt=e("MVL9"),kt=e("j2fZ"),Ft=e("eUd/"),Mt=e("WCnA"),At=e("DiBj"),Nt=e("vTDv"),xt=function(){return function(){}}(),Dt=e("VDLQ"),It=e("NrAT"),Rt=e("m1S1"),qt=e("WBAi"),Bt=e("mbdJ"),Et=e("6t6V"),Ht=Object.assign||function(t){for(var n,e=1,a=arguments.length;e<a;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},Lt={shifts:[new(function(){return function(t,n,e,a,i){this._id=t,this.name=n,this.start=e,this.end=a,this.priority=i}}())("sdf534df3sdf","Dummy smjena",1,24,!0)]};function Pt(t,n){switch(void 0===t&&(t=Lt),n.type){case k.e:return Ht({},t,{shifts:n.payload.slice()});case k.a:return Ht({},t,{shifts:t.shifts.concat([n.payload])});case k.l:var e=Ht({},t.shifts[n.payload.id],n.payload.updatedShift),a=t.shifts.slice();return a[n.payload.id]=e,Ht({},t,{shifts:a});case k.b:var i=t.shifts.slice();return i.splice(n.payload.id,1),Ht({},t,{shifts:i});default:return t}}var Gt=e("jYNz"),Ut=e("J9BT"),Wt=e("mrSG"),Zt=(e("BuZO"),e("MPj/"),e("mJA4"),function(){function t(t,n,e){var a=this;this.shiftService=t,this.actions$=n,this.store=e,this.fetchShifts=this.actions$.ofType(k.c).switchMap(function(t){return a.shiftService.getShifts()}).map(function(t){return{type:k.e,payload:t}}),this.addShift=this.actions$.ofType(k.g).map(function(t){return{payload:t.payload,resolver:t.resolver}}).switchMap(function(t){return t.resolver(),a.shiftService.createShift(t.payload)}).map(function(t){return{type:k.a,payload:t}}),this.updateShift=this.actions$.ofType(k.i).map(function(t){return t.payload}).switchMap(function(t){return a.shiftService.updateShift(t.updatedShift)}).map(function(t){return{type:k.l,payload:t}}),this.deleteShift=this.actions$.ofType(k.h).map(function(t){return t.payload}).switchMap(function(t){return a.shiftService.deleteShift(t.deletedShift)}).map(function(t){return{type:k.b,payload:t}}),this.storeShifts=this.actions$.ofType(k.f).withLatestFrom(this.store.select("SHIFTS")).switchMap(function(t){return a.shiftService.createShift(t[1].shifts)})}return Object(Wt.__decorate)([Object(Gt.b)(),Object(Wt.__metadata)("design:type",Object)],t.prototype,"fetchShifts",void 0),Object(Wt.__decorate)([Object(Gt.b)(),Object(Wt.__metadata)("design:type",Object)],t.prototype,"addShift",void 0),Object(Wt.__decorate)([Object(Gt.b)(),Object(Wt.__metadata)("design:type",Object)],t.prototype,"updateShift",void 0),Object(Wt.__decorate)([Object(Gt.b)(),Object(Wt.__metadata)("design:type",Object)],t.prototype,"deleteShift",void 0),Object(Wt.__decorate)([Object(Gt.b)({dispatch:!1}),Object(Wt.__metadata)("design:type",Object)],t.prototype,"storeShifts",void 0),t}());e.d(n,"ShiftsModuleNgFactory",function(){return zt});var zt=a["\u0275cmf"](i,[],function(t){return a["\u0275mod"]([a["\u0275mpd"](512,a.ComponentFactoryResolver,a["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,l.a,r.a,c.a,d.a,s.a,u.a,p.a,m.a,f.a,h.a,C,R]],[3,a.ComponentFactoryResolver],a.NgModuleRef]),a["\u0275mpd"](4608,q.NgLocalization,q.NgLocaleLocalization,[a.LOCALE_ID,[2,q["\u0275angular_packages_common_common_a"]]]),a["\u0275mpd"](4608,B["\u0275angular_packages_forms_forms_i"],B["\u0275angular_packages_forms_forms_i"],[]),a["\u0275mpd"](4608,B.FormBuilder,B.FormBuilder,[]),a["\u0275mpd"](4608,E.a,E.a,[b.o]),a["\u0275mpd"](4608,H.d,H.d,[H.k,H.f,a.ComponentFactoryResolver,H.i,H.g,a.Injector,a.NgZone,q.DOCUMENT,L.b]),a["\u0275mpd"](5120,H.l,H.m,[H.d]),a["\u0275mpd"](4608,P.a,P.a,[]),a["\u0275mpd"](4608,G.a,G.a,[a.ComponentFactoryResolver,a.Injector,U.a]),a["\u0275mpd"](4608,W.c,W.c,[]),a["\u0275mpd"](4608,F.l,F.r,[q.DOCUMENT,a.PLATFORM_ID,F.p]),a["\u0275mpd"](4608,F.s,F.s,[F.l,F.q]),a["\u0275mpd"](5120,F.a,function(t){return[t]},[F.s]),a["\u0275mpd"](4608,Z.i,Z.i,[]),a["\u0275mpd"](4608,Z.k,Z.k,[F.c]),a["\u0275mpd"](4608,Z.c,Z.c,[Z.i,Z.k]),a["\u0275mpd"](1073742336,q.CommonModule,q.CommonModule,[]),a["\u0275mpd"](1073742336,B["\u0275angular_packages_forms_forms_bb"],B["\u0275angular_packages_forms_forms_bb"],[]),a["\u0275mpd"](1073742336,B.FormsModule,B.FormsModule,[]),a["\u0275mpd"](1073742336,B.ReactiveFormsModule,B.ReactiveFormsModule,[]),a["\u0275mpd"](1073742336,b.s,b.s,[[2,b.y],[2,b.o]]),a["\u0275mpd"](1073742336,z.a,z.a,[]),a["\u0275mpd"](1073742336,J.a,J.a,[]),a["\u0275mpd"](1073742336,V.a,V.a,[]),a["\u0275mpd"](1073742336,Y.a,Y.a,[]),a["\u0275mpd"](1073742336,$.a,$.a,[]),a["\u0275mpd"](1073742336,K.a,K.a,[]),a["\u0275mpd"](1073742336,X.a,X.a,[]),a["\u0275mpd"](1073742336,Q.a,Q.a,[]),a["\u0275mpd"](1073742336,tt.a,tt.a,[]),a["\u0275mpd"](1073742336,L.a,L.a,[]),a["\u0275mpd"](1073742336,nt.f,nt.f,[]),a["\u0275mpd"](1073742336,et.b,et.b,[]),a["\u0275mpd"](1073742336,at.a,at.a,[]),a["\u0275mpd"](1073742336,H.h,H.h,[]),a["\u0275mpd"](1073742336,it.a,it.a,[]),a["\u0275mpd"](1073742336,ot.a,ot.a,[]),a["\u0275mpd"](1073742336,lt.a,lt.a,[]),a["\u0275mpd"](1073742336,rt.a,rt.a,[]),a["\u0275mpd"](1073742336,ct.a,ct.a,[]),a["\u0275mpd"](1073742336,dt.a,dt.a,[]),a["\u0275mpd"](1073742336,st.a,st.a,[]),a["\u0275mpd"](1073742336,ut.a,ut.a,[]),a["\u0275mpd"](1073742336,pt.a,pt.a,[]),a["\u0275mpd"](1073742336,mt.a,mt.a,[]),a["\u0275mpd"](1073742336,ft.a,ft.a,[]),a["\u0275mpd"](1073742336,ht.a,ht.a,[]),a["\u0275mpd"](1073742336,bt.a,bt.a,[]),a["\u0275mpd"](1073742336,vt.a,vt.a,[]),a["\u0275mpd"](1073742336,yt.a,yt.a,[]),a["\u0275mpd"](1073742336,gt.a,gt.a,[]),a["\u0275mpd"](1073742336,St.a,St.a,[]),a["\u0275mpd"](1073742336,Ct.a,Ct.a,[]),a["\u0275mpd"](1073742336,_t.a,_t.a,[]),a["\u0275mpd"](1073742336,Ot.a,Ot.a,[]),a["\u0275mpd"](1073742336,jt.a,jt.a,[]),a["\u0275mpd"](1073742336,wt.a,wt.a,[]),a["\u0275mpd"](1073742336,Tt.a,Tt.a,[]),a["\u0275mpd"](1073742336,kt.a,kt.a,[]),a["\u0275mpd"](1073742336,Ft.a,Ft.a,[]),a["\u0275mpd"](1073742336,Mt.a,Mt.a,[]),a["\u0275mpd"](1073742336,At.a,At.a,[]),a["\u0275mpd"](1073742336,Nt.a,Nt.a,[]),a["\u0275mpd"](1073742336,W.b,W.b,[]),a["\u0275mpd"](1073742336,xt,xt,[]),a["\u0275mpd"](1073742336,F.e,F.e,[]),a["\u0275mpd"](1073742336,F.d,F.d,[]),a["\u0275mpd"](1073742336,Z.j,Z.j,[]),a["\u0275mpd"](1073742336,Dt.a,Dt.a,[]),a["\u0275mpd"](1073742336,It.a,It.a,[]),a["\u0275mpd"](1073742336,Rt.a,Rt.a,[]),a["\u0275mpd"](1073742336,qt.a,qt.a,[]),a["\u0275mpd"](1073742336,Bt.a,Bt.a,[]),a["\u0275mpd"](1073742336,Et.a,Et.a,[]),a["\u0275mpd"](1024,N.j,function(){return[{key:"SHIFTS",reducerFactory:N.z,metaReducers:[],initialState:void 0}]},[]),a["\u0275mpd"](1024,N.q,function(){return[Pt]},[]),a["\u0275mpd"](1024,N.r,function(t){return[t]},[N.q]),a["\u0275mpd"](1024,N.b,function(t,n,e){return[N.w(t,n,e)]},[a.Injector,N.q,N.r]),a["\u0275mpd"](1073873408,N.o,N.o,[N.j,N.b,N.g,N.p]),a["\u0275mpd"](512,Gt.c,Gt.c,[a.ErrorHandler]),a["\u0275mpd"](131584,Gt.g,Gt.g,[Gt.c,N.n]),a["\u0275mpd"](512,F.o,F.o,[]),a["\u0275mpd"](2048,F.m,null,[F.o]),a["\u0275mpd"](512,F.k,F.k,[F.m]),a["\u0275mpd"](2048,F.b,null,[F.k]),a["\u0275mpd"](512,F.g,F.n,[F.b,a.Injector]),a["\u0275mpd"](512,F.c,F.c,[F.g]),a["\u0275mpd"](512,M,M,[F.c,Ut.a]),a["\u0275mpd"](512,Gt.a,Gt.a,[N.k]),a["\u0275mpd"](512,Zt,Zt,[M,Gt.a,N.n]),a["\u0275mpd"](1024,Gt.f,Gt.d,[Zt]),a["\u0275mpd"](1073742336,Gt.e,Gt.e,[Gt.c,Gt.g,N.n,Gt.f,[2,N.p],[2,N.o]]),a["\u0275mpd"](1073742336,i,i,[]),a["\u0275mpd"](1024,b.m,function(){return[[{path:"",component:v,children:[{path:"smart-table",component:A}]}]]},[]),a["\u0275mpd"](256,F.p,"XSRF-TOKEN",[]),a["\u0275mpd"](256,F.q,"X-XSRF-TOKEN",[])])})}}]);